<html xmlns:th="https://www.thymeleaf.org">
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<div th:if="${message}">
    <h2 th:text="${message}"/>
</div>

<script type="text/javascript">
    setInterval(function() {
        $.get( "lastname", function( data ) {
            if($( "#img" ).attr("src")!=data) {
                $("#img").attr("src", data);
            }
        });
    }, 1000);
</script>

<div>
    <form method="POST" enctype="multipart/form-data" action="/">
        <table>
            <tr><td>File to upload:</td><td><input type="file" name="file" /></td></tr>
            <tr><td></td><td><input type="submit" value="Upload" /></td></tr>
        </table>
    </form>
</div>

<div>

            <img id="img" src=""  />
<!--    <div>-->
<!--        <ul>-->
<!--            <li th:each="file : ${files}">-->
<!--                <img th:src="${file}" th:text="${file}" />-->
<!--            </li>-->
<!--        </ul>-->
<!--    </div>-->
</div>

</body>
</html>